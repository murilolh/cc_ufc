# Makefile para compilar todos os programas-exemplo do livro
# OpenGL - Uma Abordagem Prática e Objetiva

INCPATH = -I /usr/X11R6/include/ -I .
LIBS = -lglut -lGLU -lGL -lXi -lX11 -lm -lpthread -ljpeg -lGLEW
LIBPATH = -L/usr/lib -L/usr/X11R6/lib/
CXXFLAGS = -g -Wall

# Regras genéricas para a maior parte dos exemplos

%:%.cpp bibutil.o
	g++ $(INCPATH) $(LIBPATH) $^ $(LIBS) $(CXXFLAGS) -o $@

%.class:%.java
	javac $^

# Demais exemplos

FONTES = CasaComAnimacao.cpp CasaComEscala.cpp CasaComRotacao.cpp CasaComRotTransEsc.cpp \
	CasaComTranslacao.cpp CasaComTransRotEsc.cpp CasaComZoom.cpp CasaComZoomEPan.cpp Casa.cpp CasaEscopoTransforms.cpp \
	CuboRGB.cpp DuasViewports.cpp Exemplo2DTransp.cpp Exemplo3DAntialias-linha.cpp Exemplo3DComAnimacao.cpp \
	Exemplo3DComFonteDeLuzSpot.cpp Exemplo3DComIluminacao.cpp Exemplo3DComMateriais.cpp Exemplo3DComTransformacoes.cpp \
	Exemplo3DComZoom.cpp Exemplo3DComZoomEPan.cpp Exemplo3D.cpp Exemplo3DMoveFonteDeLuz.cpp Exemplo3DMoveFontesDeLuz.cpp \
	Exemplo3DOrto.cpp Exemplo3DOrtoZoom.cpp Exemplo3DTransp-DoisObjetos.cpp Exemplo3DTransp-fog.cpp ExemploBitmap.cpp \
	ExemploComVetorNormalOBJ.cpp ExemploCurva2D.cpp ExemploDisplayList.cpp ExemploFeedback.cpp ExemploGargaloGeometria.cpp \
	ExemploGLColorMask.cpp ExemploGLSL.cpp ExemploGLUT.cpp ExemploGLUT-texto.cpp ExemploImagemCopia.cpp ExemploImagem.cpp \
	ExemploImagemTransfer.cpp ExemploImagemZoom.cpp ExemploLinhas2D.cpp ExemploMotionBlur.cpp ExemploPoligono2D.cpp \
	ExemploPontos2D.cpp ExemploQuad2D.cpp ExemploQuad2DStrip.cpp ExemploSala3D-dlist.cpp ExemploSala3D-ilumina.cpp \
	ExemploSala3D-textura.cpp ExemploSala3D-transp.cpp ExemploSelecao.cpp ExemploStencilBuffer.cpp ExemploSuperficie.cpp \
	ExemploTextura1D.cpp ExemploTextura2D.cpp ExemploTextura2D-cubemap.cpp ExemploTextura2D-matriz.cpp ExemploTextura2D-mip.cpp \
	ExemploTextura2D-spheremap.cpp ExemploTextura2D-texgen.cpp ExemploTriangulos2D.cpp ExemploTriangulos2DFan.cpp \
	ExemploTriangulos2DStrip.cpp ExemploVertexArray.cpp ExemploWireframe3D.cpp Linhas.cpp ObjetoComTransformacoesHierarquicas.cpp \
	PadroesDePoligonos.cpp QuadradoColorido.cpp TriangulosColoridos.cpp 

# Retire o comentário da linha abaixo para compilar também o exemplo em Java
#FONTES_JAVA = ExemploJava.java Renderer.java

EXE = $(FONTES:.cpp=)
EXE_JAVA = $(FONTES_JAVA:.java=.class)

all: $(EXE) bibutil.o ExemploCpp Exemplo3DPiramide $(EXE_JAVA)

# Este exemplo é composto de dois módulos

ExemploCpp:ExemploCpp.cpp main.cpp bibutil.o
	g++ $(INCPATH) $(LIBPATH) $^ $(LIBS) $(CXXFLAGS) -o $@

# Este exemplo não pode ser ligado com a bibutil

Exemplo3DPiramide:Exemplo3DPiramide.cpp
	g++ $(INCPATH) $(LIBPATH) $^ $(LIBS) $(CXXFLAGS) -o $@

# Finalmente, esta regra compila a bibutil

bibutil.o: bibutil.cpp bibutil.h
	g++ -c $(CXXFLAGS) bibutil.cpp


